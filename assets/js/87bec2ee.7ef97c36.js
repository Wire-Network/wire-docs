"use strict";(self.webpackChunkwire_docs=self.webpackChunkwire_docs||[]).push([[5526],{25872:(e,s,t)=>{t.r(s),t.d(s,{assets:()=>a,contentTitle:()=>r,default:()=>h,frontMatter:()=>c,metadata:()=>i,toc:()=>d});var n=t(74848),o=t(28453);const c={},r="How to create, issue and transfer a token",i={id:"api-reference/system-contracts/how-to-guides/how-to-create-issue-and-transfer-a-token",title:"How to create, issue and transfer a token",description:"Prerequisites",source:"@site/docs/api-reference/system-contracts/how-to-guides/how-to-create-issue-and-transfer-a-token.md",sourceDirName:"api-reference/system-contracts/how-to-guides",slug:"/api-reference/system-contracts/how-to-guides/how-to-create-issue-and-transfer-a-token",permalink:"/docs/api-reference/system-contracts/how-to-guides/how-to-create-issue-and-transfer-a-token",draft:!1,unlisted:!1,editUrl:"https://github.com/Wire-Network/wire-docs/docs/api-reference/system-contracts/how-to-guides/how-to-create-issue-and-transfer-a-token.md",tags:[],version:"current",frontMatter:{},sidebar:"apiReferenceSidebar",previous:{title:"Build and deploy system contracts",permalink:"/docs/api-reference/system-contracts/build-and-deploy"},next:{title:"sysio.msig examples",permalink:"/docs/api-reference/system-contracts/how-to-guides/how-to-sign-a-multisig-transaction-with-sysio.msig"}},a={},d=[{value:"Prerequisites",id:"prerequisites",level:2},{value:"Steps",id:"steps",level:2},{value:"Step 1: Clone <code>wire-system-contracts</code> repo",id:"step-1-clone-wire-system-contracts-repo",level:3},{value:"Step 2: Create Account for Contract",id:"step-2-create-account-for-contract",level:3},{value:"Step 3: Compile the Contract",id:"step-3-compile-the-contract",level:3},{value:"Step 4: Deploy the Token Contract",id:"step-4-deploy-the-token-contract",level:3},{value:"Step 5: Create the Token",id:"step-5-create-the-token",level:3},{value:"Expected output",id:"expected-output",level:4},{value:"Step 6: Issue Tokens",id:"step-6-issue-tokens",level:3},{value:"Expected output",id:"expected-output-1",level:4},{value:"Step 7: Transfer Tokens",id:"step-7-transfer-tokens",level:3},{value:"Expected output",id:"expected-output-2",level:4}];function l(e){const s={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,o.R)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(s.header,{children:(0,n.jsx)(s.h1,{id:"how-to-create-issue-and-transfer-a-token",children:"How to create, issue and transfer a token"})}),"\n",(0,n.jsx)(s.h2,{id:"prerequisites",children:"Prerequisites"}),"\n",(0,n.jsxs)(s.ul,{children:["\n",(0,n.jsxs)(s.li,{children:["You have ",(0,n.jsx)(s.code,{children:"clio"})," installed on your machine and you have unlocked your wallet."]}),"\n"]}),"\n",(0,n.jsx)(s.h2,{id:"steps",children:"Steps"}),"\n",(0,n.jsxs)(s.h3,{id:"step-1-clone-wire-system-contracts-repo",children:["Step 1: Clone ",(0,n.jsx)(s.code,{children:"wire-system-contracts"})," repo"]}),"\n",(0,n.jsx)(s.p,{children:"Navigate to a directory of your choice and pull the source code."}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-sh",children:"git clone https://github.com/Wire-Network/wire-system-contracts --branch master --single-branch\n"})}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-sh",children:"cd CONTRACTS_DIR/wire-system-contracts/contracts/sysio.token\n"})}),"\n",(0,n.jsx)(s.h3,{id:"step-2-create-account-for-contract",children:"Step 2: Create Account for Contract"}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-sh",children:"clio create account sysio sysio.token EOS6MRyAjQq8ud7hVNYcfnVPJqcVpscN5So8BhtHuGYqET5GDW5CV\n"})}),"\n",(0,n.jsx)(s.h3,{id:"step-3-compile-the-contract",children:"Step 3: Compile the Contract"}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-sh",children:"cdt-cpp -I include -o sysio.token.wasm src/sysio.token.cpp --abigen\n"})}),"\n",(0,n.jsx)(s.h3,{id:"step-4-deploy-the-token-contract",children:"Step 4: Deploy the Token Contract"}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-sh",children:"clio set contract sysio.token CONTRACTS_DIR/sysio.contracts/contracts/sysio.token --abi sysio.token.abi -p sysio.token@active\n"})}),"\n",(0,n.jsx)(s.p,{children:(0,n.jsx)(s.strong,{children:"Expected output:"})}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-sh",children:'Reading WASM from ...\nPublishing contract...\nexecuted transaction: 69c68b1bd5d61a0cc146b11e89e11f02527f24e4b240731c4003ad1dc0c87c2c  9696 bytes  6290 us\n#         sysio <= sysio::setcode               {"account":"sysio.token","vmtype":0,"vmversion":0,"code":"0061736d0100000001aa011c60037f7e7f0060047f...\n#         sysio <= sysio::setabi                {"account":"sysio.token","abi":"0e656f73696f3a3a6162692f312e30000605636c6f73650002056f776e6572046e61...\nwarning: transaction executed locally, but may not be confirmed by the network yet         ]\n'})}),"\n",(0,n.jsx)(s.h3,{id:"step-5-create-the-token",children:"Step 5: Create the Token"}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-sh",children:'clio push action sysio.token create \'[ "sysio", "1000000000.0000 SYS"]\' -p sysio.token@active\n'})}),"\n",(0,n.jsx)(s.p,{children:"Below is an alternate approach uses named arguments:"}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-sh",children:'clio push action sysio.token create \'{"issuer":"sysio", "maximum_supply":"1000000000.0000 SYS"}\' -p sysio.token@active\n'})}),"\n",(0,n.jsx)(s.admonition,{type:"info",children:(0,n.jsxs)(s.p,{children:["This command creates a new token ",(0,n.jsx)(s.code,{children:"SYS"})," with a precision of 4 decimals and a maximum supply of 1000000000.0000 SYS. This action requires authorization from the ",(0,n.jsx)(s.code,{children:"sysio.token"})," contract, which is why we include the ",(0,n.jsx)(s.code,{children:"-p sysio.token@active"})," flag to provide the necessary permission."]})}),"\n",(0,n.jsx)(s.h4,{id:"expected-output",children:"Expected output"}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-sh",children:'executed transaction: 0e49a421f6e75f4c5e09dd738a02d3f51bd18a0cf31894f68d335cd70d9c0e12  120 bytes  1000 cycles\n#   sysio.token <= sysio.token::create          {"issuer":"sysio","maximum_supply":"1000000000.0000 SYS"}\n'})}),"\n",(0,n.jsx)(s.h3,{id:"step-6-issue-tokens",children:"Step 6: Issue Tokens"}),"\n",(0,n.jsxs)(s.p,{children:["The issuer can issue new tokens to the issuer account, in our case - ",(0,n.jsx)(s.code,{children:"sysio"}),"."]}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-sh",children:'clio push action sysio.token issue \'[ "sysio", "100.0000 SYS", "memo" ]\' -p sysio@active\n'})}),"\n",(0,n.jsx)(s.h4,{id:"expected-output-1",children:"Expected output"}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-sh",children:'executed transaction: a26b29d66044ad95edf0fc04bad3073e99718bc26d27f3c006589adedb717936  128 bytes  337 us\n#   sysio.token <= sysio.token::issue           {"to":"sysio","quantity":"100.0000 SYS","memo":"memo"}\nwarning: transaction executed locally, but may not be confirmed by the network yet         ]\n'})}),"\n",(0,n.jsx)(s.h3,{id:"step-7-transfer-tokens",children:"Step 7: Transfer Tokens"}),"\n",(0,n.jsxs)(s.p,{children:["Now let's transfer some of ",(0,n.jsx)(s.code,{children:"sysio"}),"'s tokens to ",(0,n.jsx)(s.code,{children:"bob"}),"'s account."]}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-sh",children:'clio push action sysio.token transfer \'[ "sysio", "bob", "25.0000 SYS", "m" ]\' -p sysio@active\n'})}),"\n",(0,n.jsx)(s.h4,{id:"expected-output-2",children:"Expected output"}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-sh",children:'executed transaction: 60d334850151cb95c35fe31ce2e8b536b51441c5fd4c3f2fea98edcc6d69f39d  128 bytes  497 us\n#   sysio.token <= sysio.token::transfer        {"from":"sysio","to":"bob","quantity":"25.0000 SYS","memo":"m"}\n#         sysio <= sysio.token::transfer        {"from":"sysio","to":"bob","quantity":"25.0000 SYS","memo":"m"}\n#           bob <= sysio.token::transfer        {"from":"sysio","to":"bob","quantity":"25.0000 SYS","memo":"m"}\nwarning: transaction executed locally, but may not be confirmed by the network yet         ]\n'})}),"\n",(0,n.jsxs)(s.p,{children:["Verify that ",(0,n.jsx)(s.code,{children:"bob"})," received the tokens using ",(0,n.jsx)(s.a,{href:"/docs/api-reference/tooling/clio/command-reference/get/currency-balance",children:"clio get currency balance"})]}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-sh",children:"clio get currency balance sysio.token bob SYS\n"})}),"\n",(0,n.jsx)(s.p,{children:(0,n.jsx)(s.strong,{children:"Expected output:"})}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-text",children:"25.00 SYS\n"})}),"\n",(0,n.jsxs)(s.p,{children:["Check ",(0,n.jsx)(s.code,{children:"sysio"}),"'s balance and verify that tokens were indeed deducted from the account's balance."]}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-sh",children:"clio get currency balance sysio.token sysio SYS\n"})}),"\n",(0,n.jsx)(s.p,{children:(0,n.jsx)(s.strong,{children:"Expected output:"})}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-text",children:"75.00 SYS\n"})})]})}function h(e={}){const{wrapper:s}={...(0,o.R)(),...e.components};return s?(0,n.jsx)(s,{...e,children:(0,n.jsx)(l,{...e})}):l(e)}},28453:(e,s,t)=>{t.d(s,{R:()=>r,x:()=>i});var n=t(96540);const o={},c=n.createContext(o);function r(e){const s=n.useContext(c);return n.useMemo((function(){return"function"==typeof e?e(s):{...s,...e}}),[s,e])}function i(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:r(e.components),n.createElement(c.Provider,{value:s},e.children)}}}]);