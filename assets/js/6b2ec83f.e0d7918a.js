"use strict";(self.webpackChunkwire_docs=self.webpackChunkwire_docs||[]).push([[1706],{82915:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>r,contentTitle:()=>c,default:()=>l,frontMatter:()=>q,metadata:()=>o,toc:()=>a});var s=t(74848),i=t(28453);const q={id:"push-action",title:"push action"},c=void 0,o={id:"api-reference/tooling/clio/command-reference/push/push-action",title:"push action",description:"Description",source:"@site/docs/api-reference/tooling/clio/command-reference/push/push-action.md",sourceDirName:"api-reference/tooling/clio/command-reference/push",slug:"/api-reference/tooling/clio/command-reference/push/push-action",permalink:"/docs/api-reference/tooling/clio/command-reference/push/push-action",draft:!1,unlisted:!1,editUrl:"https://github.com/Wire-Network/wire-docs/docs/api-reference/tooling/clio/command-reference/push/push-action.md",tags:[],version:"current",frontMatter:{id:"push-action",title:"push action"},sidebar:"apiReferenceSidebar",previous:{title:"push",permalink:"/docs/api-reference/tooling/clio/command-reference/push/"},next:{title:"push transaction",permalink:"/docs/api-reference/tooling/clio/command-reference/push/push-transaction"}},r={},a=[{value:"Description",id:"description",level:2},{value:"Positionals",id:"positionals",level:2},{value:"Options",id:"options",level:2},{value:"Output",id:"output",level:2}];function d(e){const n={code:"code",em:"em",h2:"h2",p:"p",pre:"pre",...(0,i.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.h2,{id:"description",children:"Description"}),"\n",(0,s.jsx)(n.p,{children:"Push a transaction with a single action"}),"\n",(0,s.jsx)(n.h2,{id:"positionals",children:"Positionals"}),"\n",(0,s.jsxs)(n.p,{children:["-",(0,s.jsx)(n.code,{children:"contract"})," ",(0,s.jsx)(n.em,{children:"Type: Text"})," - The account providing the contract to execute"]}),"\n",(0,s.jsxs)(n.p,{children:["-",(0,s.jsx)(n.code,{children:"action"})," ",(0,s.jsx)(n.em,{children:"Type: Text"})," - The action to execute on the contract"]}),"\n",(0,s.jsxs)(n.p,{children:["-",(0,s.jsx)(n.code,{children:"data"})," ",(0,s.jsx)(n.em,{children:"Type: Text"})," - The arguments to the contract"]}),"\n",(0,s.jsx)(n.h2,{id:"options",children:"Options"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.code,{children:"-h,--help"})," - Print this help message and exit"]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.code,{children:"-x,--expiration"})," - set the time in seconds before a transaction expires, defaults to 30s"]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.code,{children:"-f,--force-unique"})," - force the transaction to be unique. this will consume extra bandwidth and remove any protections against accidently issuing the same transaction multiple times"]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.code,{children:"-s,--skip-sign"})," - Specify if unlocked wallet keys should be used to sign transaction"]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.code,{children:"-j,--json"})," - print result as json"]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.code,{children:"-d,--dont-broadcast"})," - don't broadcast transaction to the network (just print to stdout)"]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.code,{children:"-p,--permission"})," ",(0,s.jsx)(n.em,{children:"Type: Text"})," - An account and permission level to authorize, as in 'account@permission'"]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.code,{children:"--max-cpu-usage-ms"})," ",(0,s.jsx)(n.em,{children:"UINT"})," - set an upper limit on the milliseconds of cpu usage budget, for the execution of the transaction (defaults to 0 which means no limit)"]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.code,{children:"--max-net-usage"})," ",(0,s.jsx)(n.em,{children:"UINT"})," - set an upper limit on the net usage budget, in bytes, for the transaction (defaults to 0 which means no limit)"]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.code,{children:"--delay-sec"})," ",(0,s.jsx)(n.em,{children:"UINT"})," - set the delay_sec seconds, defaults to 0s"]}),"\n",(0,s.jsx)(n.h2,{id:"output",children:"Output"}),"\n",(0,s.jsxs)(n.p,{children:["For actions that return a value ",(0,s.jsx)(n.code,{children:"clio"})," has a line which is prefixed with ",(0,s.jsx)(n.code,{children:"=>"}),"."]}),"\n",(0,s.jsxs)(n.p,{children:["Let's consider for exemplification the three actions defined below. The first two are ",(0,s.jsx)(n.code,{children:"rstring"})," and ",(0,s.jsx)(n.code,{children:"ruint"}),", which return the value passed as input parameter to them, and the third one is ",(0,s.jsx)(n.code,{children:"rtmp"})," returning a default ",(0,s.jsx)(n.code,{children:"tmp"})," object."]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-c++",children:"struct tmp {\n    uint32_t id = 1;\n    std::vector<uint8_t> list{ 1, 2 };\n};\n\n[[sysio::action]]\nstd::string rstring(const std::string & str) { return str;   }\n\n[[sysio::action]]\nuint16_t    ruint(uint16_t i)                { return i;     }\n\n[[sysio::action]]\ntmp         rtmp()                           { return tmp{}; }\n"})}),"\n",(0,s.jsxs)(n.p,{children:["The ",(0,s.jsx)(n.code,{children:"clio"})," commands and their respective outputs are."]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-shell",children:'> clio push action sysio rstring \'{"str":null}\'  -p sysio@active\n\nexecuted transaction: 1e72a3ef1fa01a9c90b870fe86bf31413c6a2f40a2722ca72d9dd707f58851af  96 bytes  116 us\n#         sysio <= sysio::rstring               {"str":""}\n=>                                return value: ""\n\n> clio push action sysio rstring \'{"str":"test"}\'  -p sysio@active\n\nexecuted transaction: 2484ba021683bb3c6daaabe291ba291e2689d1be899a293d0a09cc68cf0967fb  96 bytes  116 us\n#         sysio <= sysio::rstring               {"str":"test"}\n=>                                return value: "test"\n\n> clio push action sysio ruint \'{"i":42}\'  -p sysio@active\n\nexecuted transaction: 12c51fd27fad9bb0fa959037a72093ad0b168f5846e916a0e9a295c8416bdf9f  96 bytes  138 us\n#         sysio <= sysio::ruint                 {"i":42}\n=>                                return value: 42\n'})}),"\n",(0,s.jsxs)(n.p,{children:["The ",(0,s.jsx)(n.code,{children:"rtmp"})," action output, returning a default ",(0,s.jsx)(n.code,{children:"tmp"})," object, looks like this:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-shell",children:'> clio push action sysio rtmp \'{}\'  -p sysio@active\n\nexecuted transaction: 42386687d94695d77d67cf901cf8d1a4f83ac9f89382f0b01f3fb51267cc21cd  96 bytes  110 us\n#         sysio <= sysio::rtmp                  ""\n=>                                return value: {"id":1,"list":[1,2]}\n'})}),"\n",(0,s.jsx)(n.p,{children:"When it is not possible to decode the return value, for example when ABI doesn\u2019t contain information about an action return value, output will look like this:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-shell",children:"=>                          return value (hex): 1400000001000770656e64696e6700000000\n"})}),"\n",(0,s.jsxs)(n.p,{children:["If the length of the return value string is more than 100 chars the string will be truncated to the first 100 chars and three dots ",(0,s.jsx)(n.code,{children:"..."})," will be added at the end. It's similar to what clio does to action parameters output."]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-shell",children:'> clio push action sysio rstring \'{"str":"qqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqq"}\'  -p sysio@active\nexecuted transaction: 9fb35c72dbccadb4ff7b72a3a046543fbe2ae36eea70265f2b8356e8192c3f0e  248 bytes  176 us\n#         sysio <= sysio::rstring               {"str":"qqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqq...\n=>                                return value: "qqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqq...\n'})})]})}function l(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(d,{...e})}):d(e)}},28453:(e,n,t)=>{t.d(n,{R:()=>c,x:()=>o});var s=t(96540);const i={},q=s.createContext(i);function c(e){const n=s.useContext(q);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:c(e.components),s.createElement(q.Provider,{value:n},e.children)}}}]);