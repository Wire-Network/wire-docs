"use strict";(self.webpackChunkwire_docs=self.webpackChunkwire_docs||[]).push([[1079],{1704:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>c,contentTitle:()=>o,default:()=>h,frontMatter:()=>a,metadata:()=>s,toc:()=>l});var r=n(74848),i=n(28453);const a={},o=void 0,s={id:"api-reference/wire-cdt/features/return_values_from_actions",title:"return_values_from_actions",description:"Overview",source:"@site/docs/api-reference/wire-cdt/features/return_values_from_actions.md",sourceDirName:"api-reference/wire-cdt/features",slug:"/api-reference/wire-cdt/features/return_values_from_actions",permalink:"/docs/api-reference/wire-cdt/features/return_values_from_actions",draft:!1,unlisted:!1,editUrl:"https://github.com/Wire-Network/wire-docs/edit/master/docs/api-reference/wire-cdt/features/return_values_from_actions.md",tags:[],version:"current",frontMatter:{}},c={},l=[{value:"Overview",id:"overview",level:2},{value:"Concept",id:"concept",level:2},{value:"Details",id:"details",level:2},{value:"Examples",id:"examples",level:2}];function d(e){const t={a:"a",code:"code",h2:"h2",li:"li",p:"p",ul:"ul",...(0,i.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(t.h2,{id:"overview",children:"Overview"}),"\n",(0,r.jsxs)(t.p,{children:["A Wire blockchain with the ",(0,r.jsx)(t.code,{children:"ACTION_RETURN_VALUE"})," protocol feature activated enables you to return any value from any action. This new feature facilitates easier smart contract implementation debugging, and better messaging between a smart contract and its clients. From now on the clients of a smart contract are able to use the value returned by an action, no more string parsing on the client side and no more print statements in the smart contract implementation."]}),"\n",(0,r.jsx)(t.h2,{id:"concept",children:"Concept"}),"\n",(0,r.jsxs)(t.p,{children:["When you implement an action within a smart contract use the ",(0,r.jsx)(t.code,{children:"return"})," statement and pass any value to the action sender. The returned value can be of any C++ primitive type, any C++ standard library type, or any user defined type. The ",(0,r.jsx)(t.code,{children:"Antelope"})," framework does all the work necessary to serialize the value returned and send it back to the client. On the client side you deserialize the received value and access it the same way you access any other function\u2019s return value."]}),"\n",(0,r.jsx)(t.h2,{id:"details",children:"Details"}),"\n",(0,r.jsx)(t.p,{children:"The following list provides important details for when you return a value from an action:"}),"\n",(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsxs)(t.li,{children:["As mentioned above, the ",(0,r.jsx)(t.code,{children:"Antelope"})," framework does all the heavy lifting for the return value to convey it to the client. The ",(0,r.jsx)(t.code,{children:"Antelope"})," framework defines and uses a new intrinsic, namely ",(0,r.jsx)(t.code,{children:"set_action_return_value"}),". To learn more about ",(0,r.jsx)(t.code,{children:"Antelope"})," returned values functionality, refer to its documentation and ",(0,r.jsx)(t.a,{href:"https://github.com/Wire-Network/cdt/blob/develop/libraries/native/intrinsics.cpp#L295",children:"implementation"}),"."]}),"\n",(0,r.jsx)(t.li,{children:"The CPU time and memory limit of your contract (maximum size of wasm), not RAM or NET, defines the limits of the returned value.."}),"\n",(0,r.jsx)(t.li,{children:"The action receipt includes a hash of the serialized returned value."}),"\n",(0,r.jsx)(t.li,{children:"The action trace includes the serialized returned value."}),"\n",(0,r.jsx)(t.li,{children:"If the trace log is enabled, the state history trace logs also store the serialized returned value."}),"\n",(0,r.jsx)(t.li,{children:"If the trace api plugin is enabled, the trace api trace logs also store the serialized returned value."}),"\n",(0,r.jsxs)(t.li,{children:["The returned value is available in the action trace. If the sender is another action, the action trace is not available to the sender action ",(0,r.jsx)(t.code,{children:"code"}),". Therefore the returned value from an inline action can not be read by the action that sent the inline action."]}),"\n",(0,r.jsx)(t.li,{children:"Also inline actions do not execute synchronously. Inline actions execute at a later time. No return value is available to the sender at the time the inline action is sent."}),"\n"]}),"\n",(0,r.jsx)(t.h2,{id:"examples",children:"Examples"}),"\n",(0,r.jsx)(t.p,{children:"For a full working example of a smart contract action which returns a value, refer to the following resources:"}),"\n",(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsxs)(t.li,{children:["The ",(0,r.jsx)(t.a,{href:"https://github.com/Wire-Network/cdt/blob/develop/examples/hello/src/hello.cpp#L14",children:(0,r.jsx)(t.code,{children:"hello"})})," smart contract example, see action ",(0,r.jsx)(t.code,{children:"hello::checkwithrv"}),"."]}),"\n",(0,r.jsxs)(t.li,{children:["The ",(0,r.jsx)(t.a,{href:"/docs/api-reference/wire-cdt/how-to-guides/how-to-return-values-from-actions",children:"How-to return values from actions"}),"."]}),"\n"]})]})}function h(e={}){const{wrapper:t}={...(0,i.R)(),...e.components};return t?(0,r.jsx)(t,{...e,children:(0,r.jsx)(d,{...e})}):d(e)}},28453:(e,t,n)=>{n.d(t,{R:()=>o,x:()=>s});var r=n(96540);const i={},a=r.createContext(i);function o(e){const t=r.useContext(a);return r.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function s(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:o(e.components),r.createElement(a.Provider,{value:t},e.children)}}}]);